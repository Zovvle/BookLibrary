{% extends "layout.html" %}
{% block title %} å›¾ä¹¦è¯¦æƒ… - {{ book.book_name if book else 'æœªçŸ¥' }} {% endblock %}

{% block link %}
	<a href="{{ url_for('manager_books') }}"> è¿”å›åˆ—è¡¨ </a> | 
	{% if book %}
	<a href="{{ url_for('manager_modify', id=book.book_id)}}"> ä¿®æ”¹ä¿¡æ¯ </a>
	{% endif %}
{% endblock %}

{% block body %}
	<h2> å›¾ä¹¦ä¿¡æ¯ </h2>
	{% if book %}
	<ul>
		<li> ISBNï¼š {{book.book_id}} </li>
		<li> ä¹¦åï¼š {{book.book_name}} </li>
		<li> ä½œè€…ï¼š {{book.author}} </li>	
		<li> å‡ºç‰ˆç¤¾ï¼š {{book.publish_com}} </li>
		<li> å‡ºç‰ˆæ—¥æœŸï¼š {{book.publish_date}} </li>
	</ul>
	{% else %}
	<p>å›¾ä¹¦ä¸å­˜åœ¨</p>
	{% endif %}
	
	<h2> å€Ÿé˜…çŠ¶æ€ </h2>
	
	{% if reader %}
		<!-- å·²å€Ÿå‡ºï¼šæ˜¾ç¤ºå€Ÿé˜…ä¿¡æ¯å’Œè¿˜ä¹¦æŒ‰é’® -->
		<p>ğŸ“š <strong>å½“å‰çŠ¶æ€ï¼šå·²å€Ÿå‡º</strong></p>
		<ul>
			<li> å€Ÿé˜…è€…ï¼š {{ reader.user_name }}</li>
			<li> å€Ÿé˜…æ—¥æœŸï¼š {{ reader.date_borrow }}</li>
			<li> åº”è¿˜æ—¥æœŸï¼š {{ reader.date_return }}</li>
		</ul>
		
		<form action="{{ url_for('manager_book', id=book.book_id) }}" method="post">
			<input type="hidden" name="action" value="return">
			<div class="actions">
				<input type="submit" value="ç¡®è®¤å½’è¿˜" class="btn-return">
			</div>
		</form>
		
	{% else %}
		<!-- å¯å€Ÿé˜…ï¼šæ˜¾ç¤ºå€Ÿä¹¦è¡¨å• -->
		{% if book %}
		<p>âœ… <strong>å½“å‰çŠ¶æ€ï¼šå¯å€Ÿé˜…</strong></p>
		<form action="{{ url_for('borrow_book', id=book.book_id) }}" method="post">
			<div class="borrow-form">
				<label for="user_name">å€Ÿé˜…è€…å§“åï¼š</label>
				<input type="text" id="user_name" name="user_name" 
					   placeholder="è¯·è¾“å…¥å€Ÿé˜…è€…å§“å" required>
				<br>
				<input type="submit" value="ç¡®è®¤å€Ÿé˜…" class="btn-borrow">
			</div>
		</form>
		{% else %}
		<p>å›¾ä¹¦ä¿¡æ¯ä¸å­˜åœ¨ï¼Œæ— æ³•å€Ÿé˜…</p>
		{% endif %}
	{% endif %}
{% endblock %}